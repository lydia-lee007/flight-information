<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>æ­ä¹—è€…åç°¿</title>
    <script>
        function fetchPassengers() {
            let date = document.getElementById("date").value;
            let flightName = document.getElementById("flight_name").value;

            if (!date || !flightName) {
                alert("æ—¥ä»˜ã¨ä¾¿åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼");
                return;
            }

            fetch(`get_passengers.php?date=${date}&flight_name=${flightName}`)
            .then(response => response.json())
            .then(data => {
                let table = document.getElementById('passenger-table');
                table.innerHTML = "<tr><th>åº§å¸­ã‚¯ãƒ©ã‚¹</th><th>é¡§å®¢ç•ªå·</th><th>æ°å</th></tr>";
                
                if (data.length === 0) {
                    table.innerHTML += "<tr><td colspan='3'>è©²å½“ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã›ã‚“ã€‚</td></tr>";
                } else {
                    data.forEach(passenger => {
                        let row = `<tr>
                            <td>${passenger.seat_class}</td>
                            <td>${passenger.customer_id}</td>
                            <td>${passenger.customer_name}</td>
                        </tr>`;
                        table.innerHTML += row;
                    });
                }
            })
            .catch(error => console.error("ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚¨ãƒ©ãƒ¼:", error));
        }
    </script>
</head>
<body>
    <h2>æ­ä¹—è€…åç°¿</h2>
    
    <!-- ğŸ”¹ ç”¨æˆ·è¾“å…¥æ¡† -->
    <label>æ—¥ä»˜ï¼š</label>
    <input type="date" id="date">
    <label>ä¾¿åï¼š</label>
    <input type="text" id="flight_name" placeholder="ä¾‹ï¼šRAC861">
    <button onclick="fetchPassengers()">æ¤œç´¢</button>

    <table border="1" id="passenger-table"></table>
</body>
</html>

